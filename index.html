<html>
<head>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" ></script>
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700' rel='stylesheet' type='text/css'>

<style>

@font-face {
  font-family:'ApexSansMedium';
  src:url('http://ceph.com/wp-content/themes/ceph/fonts/ApexSans-Medium.eot');
  src:url('http://ceph.com/wp-content/themes/ceph/fonts/ApexSans-Medium.eot?#iefix') format('embedded-opentype'),
      url('http://ceph.com/wp-content/themes/ceph/fonts/ApexSans-Medium.woff') format('woff'),
      url('http://ceph.com/wp-content/themes/ceph/fonts/ApexSans-Medium.ttf') format('truetype'),
      url('http://ceph.com/wp-content/themes/ceph/fonts/ApexSans-Medium.svg#ApexSansBook') format('svg');
  font-weight:normal;
  font-style:normal;
}

body {
	background-color: #37424a;
	color: #efefef;
}
h1 {
	font: 24px/1.2 'ApexSansMedium', Helvetica, Arial, sans-serif;
	text-align: center;
	text-transform: uppercase;
}

label {
	font: 12px/1.2 'ApexSansMedium', Helvetica, Arial, sans-serif;
	margin-left: 10px;
	text-transform: uppercase;
}

.logical {
	height: 650px;
}

</style>

<script>

var pgver = 0;

function refreshPage() {
	if ($('#upd-logical').is(':checked')) {
		$.ajax({
			url: 'json/pgmap.php',
			type: 'GET',
			dataType: "json",
			success: function(data) {
				if (data['pgmap'] != pgver) {
					console.log("new pgmap ver:" + data['pgmap']);
					pgver = data['pgmap'];
					$('#pgmap').fadeOut(600);
					$('#pgmap').attr('src', $('#pgmap').attr('src'));
				}
			}
		});
	}
	setTimeout("refreshPage()", 1000);
}

$(document).ready(function(){

	$('#upd-physical').click(function() {
		$('#osdtree').attr('src', $('#osdtree').attr('src'));
	});

	$('#pgmap').fadeOut(600);

	$('#pgmap').load(function() {
		$('#pgmap').fadeIn(300);
	});

	setTimeout("refreshPage()", 1000);
});


</script>

</head>
<body style="margin:0; padding:0;">
	<div class="container" style="width: 1170px; margin: 0 auto;">
		<div class="physical" style="float:right; border: 1px solid #37424a; width: 550px;">
		  <h1>Physical Infrastructure</h1>
		  <hr style="border: 2px solid #efefef;" />
		  <center><input type="button" id="upd-physical" name="upd-physical" value="refresh"></center>
		  <iframe scrolling="no" id="osdtree" name="osdtree" src="physical.html" FRAMEBORDER="0" style="width:550; float: right; border:0; overflow:hidden;"></iframe>
		</div>
		<div class="logical" style="border: 1px solid #37424a; width: 490px;">
		  <h1>Logical Infrastructure</h1>
		  <hr style="border: 2px solid #efefef;" />
		  <center><input type="checkbox" id="upd-logical" name="upd-logical" checked><label>Auto-Update</label></center>
		  <iframe scrolling="no" id="pgmap" name="pgmap" src="logical.html" FRAMEBORDER="0" style="width:490; height: 650px; margin: 0 0 0 0; padding-bottom:10px; border:0; overflow:hidden;"></iframe>
		</div>
		<div class="iops" style="border: 1px solid #37424a; width: 490px;">
		  <h1>IO Statistics</h1>
		  <hr style="border: 2px solid #efefef;" />
		  <iframe scrolling="no" name="iops" src="iops.html" FRAMEBORDER="0" style="width:490; margin: 0 0 0 0; padding:0; border:0; height:200px; overflow:hidden;"></iframe>
		</div>
	</div>
</body>
</html>
